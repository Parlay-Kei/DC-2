#===============================================================================
# Direct Cuts - Screengrab Configuration (Android Screenshots)
#===============================================================================
# This file configures automated Android screenshot capture using Screengrab.
#
# STATUS: PLACEHOLDER - Requires instrumentation test implementation
#
# Setup Steps:
# 1. Add screengrab dependency to android/app/build.gradle.kts
# 2. Create instrumentation tests in android/app/src/androidTest/
# 3. Configure devices and languages below
# 4. Run: bundle exec fastlane screengrab
#
# Documentation: https://docs.fastlane.tools/actions/screengrab/
#===============================================================================

#-------------------------------------------------------------------------------
# App Configuration
#-------------------------------------------------------------------------------

# Path to APK for testing
app_apk_path("../build/app/outputs/flutter-apk/app-debug.apk")

# Path to instrumentation test APK
tests_apk_path("../build/app/outputs/apk/androidTest/debug/app-debug-androidTest.apk")

# App package name
app_package_name("com.directcuts.app")

# Test package name (usually app package + .test)
tests_package_name("com.directcuts.app.test")

#-------------------------------------------------------------------------------
# Device Configuration
#-------------------------------------------------------------------------------

# Use connected device (recommended for CI)
use_adb_root(false)

# Specific device serial (leave empty for any connected device)
# specific_device("")

#-------------------------------------------------------------------------------
# Languages and Locales
#-------------------------------------------------------------------------------

locales([
  "en-US",
  # Add more languages as localized:
  # "es-US",
  # "es-MX",
])

#-------------------------------------------------------------------------------
# Output Configuration
#-------------------------------------------------------------------------------

# Output directory
output_directory("./screenshots/android")

# Clear previous screenshots
clear_previous_screenshots(true)

#-------------------------------------------------------------------------------
# Screenshot Configuration
#-------------------------------------------------------------------------------

# Launch arguments for the app
# launch_arguments([
#   "--es screengrab true",
# ])

# Reinstall both APKs before running
reinstall_app(true)

# Exit on test failure
exit_on_test_failure(false)

#-------------------------------------------------------------------------------
# Test Configuration
#-------------------------------------------------------------------------------

# Test class to run (leave empty for all)
# use_tests_in_classes([
#   "com.directcuts.app.ScreenshotTest",
# ])

# Test packages to run
# use_tests_in_packages([
#   "com.directcuts.app.screenshots",
# ])

#-------------------------------------------------------------------------------
# ADB Configuration
#-------------------------------------------------------------------------------

# ADB host (for remote testing)
# adb_host("localhost")

# Skip cleaning status bar
skip_open_summary(false)

#-------------------------------------------------------------------------------
# Placeholder Screenshots (Manual)
#-------------------------------------------------------------------------------

# Until instrumentation tests are implemented, create screenshots manually:
#
# 1. Connect Android device or start emulator
# 2. Run app: flutter run
# 3. Navigate to each screen
# 4. Take screenshot via adb:
#    adb exec-out screencap -p > screenshot.png
# 5. Save to: fastlane/screenshots/android/<locale>/
#
# Required device sizes:
# - Phone: 1080 x 1920 px (minimum)
# - 7" Tablet: 1200 x 1920 px (optional)
# - 10" Tablet: 1600 x 2560 px (optional)
#
# Required screenshots:
# - Home/Map screen (barber discovery)
# - Barber profile with verified badge
# - Booking flow (date/time selection)
# - Booking confirmation
# - Reviews screen
